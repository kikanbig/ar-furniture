<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ –í–°–ï –í–ï–†–°–ò–ò AR | –í—ã–±–µ—Ä–∏—Ç–µ –ª—É—á—à—É—é</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2196F3 0%, #21CBF3 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            text-align: center;
            font-size: 18px;
            opacity: 0.8;
            margin-bottom: 40px;
        }
        
        .versions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .version-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
            position: relative;
        }
        
        .version-card:hover {
            transform: translateY(-5px);
        }
        
        .version-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .badge-basic {
            background: #4CAF50;
        }
        
        .badge-broken {
            background: #f44336;
        }
        
        .badge-fixed {
            background: #FF9800;
        }
        
        .badge-pro {
            background: #2196F3;
        }
        
        .version-card h2 {
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .version-description {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        .features-list {
            list-style: none;
            margin-bottom: 25px;
            text-align: left;
        }
        
        .features-list li {
            padding: 6px 0;
            font-size: 13px;
            position: relative;
            padding-left: 20px;
        }
        
        .features-list .pro:before {
            content: "‚úÖ";
            position: absolute;
            left: 0;
        }
        
        .features-list .con:before {
            content: "‚ùå";
            position: absolute;
            left: 0;
        }
        
        .features-list .warning:before {
            content: "‚ö†Ô∏è";
            position: absolute;
            left: 0;
        }
        
        .furniture-qr {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .qr-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            min-width: 140px;
        }
        
        .qr-item h4 {
            color: #333;
            font-size: 12px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .qr-code {
            width: 110px;
            height: 110px;
            margin: 0 auto 8px;
            border-radius: 5px;
        }
        
        .qr-label {
            font-size: 10px;
            color: #666;
            font-weight: bold;
        }
        
        .recommendation {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            border-left: 5px solid #FFD700;
        }
        
        .recommendation h3 {
            color: #FFD700;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .recommendation p {
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 10px;
        }
        
        .direct-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .direct-link {
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .direct-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }
        
        .direct-link.pro {
            background: linear-gradient(45deg, #FFD700, #FFA000);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ –í–°–ï –í–ï–†–°–ò–ò AR –ú–ï–ë–ï–õ–ò</h1>
        <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</p>
        
        <div class="versions-grid" id="versions-grid">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≤–µ—Ä—Å–∏–π –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
        </div>
        
        <div class="recommendation">
            <h3>üèÜ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:</h3>
            <p><strong>–î–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Professional WebXR AR</strong> - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏.</p>
            <p>–ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å WebXR, –Ω–∞—á–Ω–∏—Ç–µ —Å–æ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ AR –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.</p>
            
            <div class="direct-links">
                <a href="/pro/cannoli" class="direct-link pro">üè¢ Professional Cannoli</a>
                <a href="/pro/bellagio" class="direct-link pro">üè¢ Professional Bellagio</a>
                <a href="/ar/cannoli" class="direct-link">üì± –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Cannoli</a>
                <a href="/ar/bellagio" class="direct-link">üì± –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Bellagio</a>
            </div>
        </div>
    </div>

    <script>
        const versions = [
            {
                title: "üì± –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π AR",
                badge: "–†–ê–ë–û–¢–ê–ï–¢",
                badgeClass: "badge-basic",
                description: "–ü—Ä–æ—Å—Ç–∞—è AR —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é",
                features: [
                    { text: "–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∫–∞–º–µ—Ä—ã", type: "pro" },
                    { text: "–ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏", type: "pro" },
                    { text: "–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤", type: "pro" },
                    { text: "–î–∏–≤–∞–Ω –¥–≤–∏–∂–µ—Ç—Å—è —Å –∫–∞–º–µ—Ä–æ–π", type: "con" },
                    { text: "–ù–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—è–º", type: "con" },
                    { text: "–ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å", type: "warning" }
                ],
                apiEndpoints: ["qr"]
            },
            {
                title: "üöÄ WebXR AR v1",
                badge: "–û–®–ò–ë–ö–ê",
                badgeClass: "badge-broken",
                description: "–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ WebXR —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏",
                features: [
                    { text: "Hit Testing API", type: "pro" },
                    { text: "–†–µ–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ", type: "pro" },
                    { text: "GLTFLoader –æ—à–∏–±–∫–∞", type: "con" },
                    { text: "–ù–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–æ–¥–µ–ª–∏", type: "con" },
                    { text: "–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞", type: "con" },
                    { text: "–¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π", type: "warning" }
                ],
                apiEndpoints: ["webxr-qr"]
            },
            {
                title: "‚ö° WebXR AR v2",
                badge: "–ò–°–ü–†–ê–í–õ–ï–ù–û",
                badgeClass: "badge-fixed",
                description: "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å ES –º–æ–¥—É–ª—è–º–∏",
                features: [
                    { text: "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ GLTFLoader", type: "pro" },
                    { text: "ES –º–æ–¥—É–ª–∏", type: "pro" },
                    { text: "–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", type: "pro" },
                    { text: "Fallback –º–æ–¥–µ–ª–∏", type: "pro" },
                    { text: "–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ", type: "pro" },
                    { text: "–ú–æ–∂–µ—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å UI", type: "warning" }
                ],
                apiEndpoints: ["webxr-v2-qr"]
            },
            {
                title: "üè¢ Professional WebXR",
                badge: "–õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò",
                badgeClass: "badge-pro",
                description: "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è WebXR AR",
                features: [
                    { text: "–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ WebXR", type: "pro" },
                    { text: "Dom Overlay –¥–ª—è UI", type: "pro" },
                    { text: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", type: "pro" },
                    { text: "–ù–∞–¥–µ–∂–Ω–æ–µ Hit Testing", type: "pro" },
                    { text: "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ", type: "pro" },
                    { text: "–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏", type: "pro" }
                ],
                apiEndpoints: ["pro-qr"]
            }
        ];

        async function loadAllVersions() {
            try {
                const furnitureResponse = await fetch('/api/furniture');
                const furniture = await furnitureResponse.json();
                
                const versionsGrid = document.getElementById('versions-grid');
                
                for (const version of versions) {
                    const versionCard = document.createElement('div');
                    versionCard.className = 'version-card';
                    
                    let qrCodes = '';
                    
                    for (const item of furniture) {
                        let qrItems = '';
                        
                        for (const endpoint of version.apiEndpoints) {
                            try {
                                const qrResponse = await fetch(`/api/${endpoint}/${item.id}`);
                                const qrData = await qrResponse.json();
                                
                                qrItems += `
                                    <div class="qr-item">
                                        <h4>${item.name}</h4>
                                        <img src="${qrData.qrCode}" alt="${version.title} ${item.name}" class="qr-code">
                                        <div class="qr-label">${item.id.toUpperCase()}</div>
                                    </div>
                                `;
                            } catch (error) {
                                console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ QR –¥–ª—è ${endpoint}/${item.id}:`, error);
                            }
                        }
                        
                        qrCodes += qrItems;
                    }
                    
                    const featuresHtml = version.features.map(feature => 
                        `<li class="${feature.type}">${feature.text}</li>`
                    ).join('');
                    
                    versionCard.innerHTML = `
                        <div class="version-badge ${version.badgeClass}">${version.badge}</div>
                        <h2>${version.title}</h2>
                        <div class="version-description">${version.description}</div>
                        
                        <ul class="features-list">
                            ${featuresHtml}
                        </ul>
                        
                        <div class="furniture-qr">
                            ${qrCodes}
                        </div>
                    `;
                    
                    versionsGrid.appendChild(versionCard);
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—Ä—Å–∏–π:', error);
                document.getElementById('versions-grid').innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <p>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>
                        <p style="opacity: 0.7; margin-top: 10px;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
                    </div>
                `;
            }
        }

        window.addEventListener('load', loadAllVersions);
    </script>
</body>
</html>